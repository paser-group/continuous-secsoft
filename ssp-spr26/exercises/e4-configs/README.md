## Title: Understanding Security Policy Violation in Code Generated by Generative AI  

## Description 

Use an existing static analysis tool to find security policy violations in configuration files generated by generative AI tools 


## Activities 

### In-class Discussion 

In our lecture we learned that now tools exist to mange configurations automatically. Once such tool is [Kubernetes](https://kubernetes.io/). With Kubernetes lot of clusters can be managed by automatically. Kubernetes uses configuration files called manifests that are executed using a tool called `kubectl`. These manifests are developed using a language called the Yet Another Markup Language, i.e., [YAML](https://yaml.org/). 

In this exercise we will use a tool called [KubeScape](https://kubescape.io/) to find security policy violations. We will use the U.S. National Security Agency's [guidelines](https://www.nsa.gov/Press-Room/News-Highlights/Article/Article/2716980/nsa-cisa-release-kubernetes-hardening-guidance/) as the main source for policies. The goal of this exercise to identify violations of policies. 


### In-class Demonstration  

- Install the [tool](https://github.com/kubescape/kubescape/blob/master/docs/getting-started.md#examples) with `curl -s https://raw.githubusercontent.com/kubescape/kubescape/master/install.sh | /bin/bash`
- Run `cd /Users/akondrahman/.kubescape/bin`
- Run `./kubescape -h`
- Run `./kubescape list controls` 
- Run `./kubescape scan framework mitre /Users/akondrahman/Documents/TEACHING/continuous-secsoft/ssp-spr26/exercises/e4-configs/attack-yamls` 

## Tasks for You To Do
- `e4.zip` contains multiple Kubernetes manifests generated by ChatGPT. Run the tool for all Kubernetes manifests zipped in `e4.zip`. Show your execution in screenshots. [30%] 
- Automatically or manually generate a comma separated value (CSV) file with the following headers: [60%]
  `FilePath`, `Severity`, `Control name`, `Failed resources`, `All Resources`, `Compliance score`   
- Complete the [survey](https://auburn.qualtrics.com/jfe/form/SV_8nUUCt6I6RffvjE) [10%]